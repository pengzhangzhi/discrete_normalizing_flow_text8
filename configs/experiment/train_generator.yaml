# @package _global_
# Experiment config for training Generator (Stage B)
# Usage: python train.py +experiment=train_generator training.encoder_ckpt=path/to/encoder.ckpt

defaults:
  - /model: bert_generator

training:
  _target_: src.lightning.GeneratorTraining
  encoder_ckpt: ???  # Required - path to frozen encoder checkpoint
  lr: 3.0e-5
  max_steps: 500000
  warmup_steps: 10000
  min_lr_ratio: 0.1
  weight_decay: 1.0e-3
  align_weight: 1.0

logging:
  project: dnf-text8
  run_name: generator_${model.hidden_dim}_${model.n_blocks}blocks
  save_dir: ${ckpt_dir}/${logging.run_name}
